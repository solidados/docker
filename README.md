# Docker

## Entry
> Docker – это платформа для разработуи, доставки и запуска контейнерных приложений.

Позволяет:
- создавать контейнеры
- автоматизировать их запуск и развёртынвание
- управлять их жизненным циклом

Docker инкапсулирует в образе:
- Операционную систему
- среду запуска
- все конфигурации и настройки
- приложения
- и т.д.

## Важиные Концепции Docker
1. `Docker Images` (образы)
> образ – это своего рода чертёж для контейнера.

Он содержит такие элементы как:
- рабочая среда (например конкретная версия Node)
- код приложения
- зависимости (dependencies)
- конфигурации
- переменные среды (.env)
- команды (которые нужно запустить, чтобы приложение работало)

Образы так же имеют собственную файловую систему, которая не зависима от остальной части. Как только Образ был создан, то он уже не может быть изменён. И если требуется внести изменения, то необходимо создать совершенно новый образ, чтобы включить эти изменения.

2. `Docker Containers` (контейнеры)
> контейнеры - это исполняемые экземпляры созданных образов

Docker контейнер производит (изолированный процесс):
- запуск экземпяра образа
- запуск приложения
 
## VM vs. Container
Каждая созданная виртуальная машина, запускает свою собственную полноценную Операционную систему с собственным ядром, которое работает поверх операционной сисиемы рабочего компьютера. 

Контейнеры этого не делают! Они используют ядро ОС рабочего компьютера, поэтому они более лёгкие и менее ресурсо-затратные. Это так же означает, что они обычно быстрее запускаются и используют меньше памяти.  
Контейнеры включают в себя облегчённую версию конкретной ОСи, но они всё ещё используют ябро хост-машины в качестве основы. Так что контейнеры гораздо легче и быстрее `Virtual Machines`

## Docker Image (образ)
Образы состоят из нескольких слоёв, где каждый слой инкрементно добавляет что-то своё к каждому образу.

|   | Слои образов            |               |
|---|-------------------------|---------------|
| 4 | Конфигурации            |               |
| 3 | Зависимости             |               |
| 2 | Код приложения          |               |
| 1 | Родительский образ (ОС) | (Node, Linux) |

Порядок слоёв имеет значение.  
1. Обычно, образ начинается с сущности, которая называется **родительским образом**. По сути, это и есть первы и основной слой. Этот слой описывает лёгкую ОС и рабочую среду контейнера. Можно создать контейнер с родительским образом, в котором будет установлена определённая версия `Node` на дистрибутиве `Linux`, и этот слой сам по себе уже представляет предварительно созданный **докер-образ**.  
2. Все последующие слои могут быть чем угодно
